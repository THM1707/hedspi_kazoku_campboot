<script>
  $(document).ready(function(){
      let rated = 0;
      let stars = $(`#stars`).find(`li`).parent().children('li.star');
      for (let i = 0; i < rated; i++) {
          $(stars[i]).addClass('selected');
      }
      $('#stars li').on('mouseover', function(){
          var onStar = parseInt($(this).data('value'), 10); // The star currently mouse on
  
          // Now highlight all the stars that's not after the current hovered star
          $(this).parent().children('li.star').each(function(e){
              if (e < onStar) {
                  $(this).addClass('hover');
              }
              else {
                  $(this).removeClass('hover');
              }
          });
  
      }).on('mouseout', function(){
          $(this).parent().children('li.star').each(function(e){
              $(this).removeClass('hover');
          });
      });
  
  
      $('#stars li').on('click', function(){
          var onStar = parseInt($(this).data('value'), 10);
          var stars = $(this).parent().children('li.star');
  
          for (i = 0; i < stars.length; i++) {
              $(stars[i]).removeClass('selected');
          }
  
          for (i = 0; i < onStar; i++) {
              $(stars[i]).addClass('selected');
          }
      });
  });
</script>
